.form
  = form_for article_page, :url => ( article_page.new_record? ? pages_path : page_path(article_page) ), :html => { :class => 'form-horizontal', :multipart => true } do |f|
    = render :partial => 'shared/form_errors', :locals => { :object => article_page }
    .control-group
      = f.label :title, :class => 'control-label'
      .controls
        = f.text_field :title, :class => 'span10'
    .control-group
      = f.label :entry, :class => 'control-label'
      .controls
        = f.text_area :entry, :rows => '4', :class => 'span10'
    .control-group
      = f.label :body, :class => 'control-label'
      .controls
        // :javascript
        //   var CKEDITOR_BASEPATH = '/assets/ckeditor/';
        = javascript_include_tag "ckeditor/init"
        / = javascript_include_tag "ckeditor/config"
        = f.cktext_area :body, :class => 'span8'
    .control-group
      = f.label :permalink, :class => 'control-label'
      .controls
        = f.text_field :permalink
    .row
      .span5
        .control-group
          = f.label :category_id, :class => 'control-label'
          .controls
            = f.select :category_id, Article::Category.roots.map {|c| [c.name, c.id]} , :include_blank => '--- Static Page ---'
      .span7
        .control-group
          .controls
            %label.checkbox.inline
              = f.check_box :published
              Published?
    .form-actions
      = f.submit 'Save page', :class => 'btn btn-success'
