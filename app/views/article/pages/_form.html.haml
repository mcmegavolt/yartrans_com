.form
  = form_for article_page, :url => ( article_page.new_record? ? pages_path : page_path(article_page) ), :html => { :class => 'form-horizontal', :multipart => true } do |f|
    = render :partial => 'shared/form_errors', :locals => { :object => article_page }
    .control-group
      = f.label :title, :class => 'control-label'
      .controls
        = f.text_field :title, :class => 'span10'
    .control-group
      = f.label :entry, :class => 'control-label'
      .controls
        = f.text_area :entry, :rows => '4', :class => 'span10'
    .control-group
      = f.label :body, :class => 'control-label'
      .controls
        = javascript_include_tag "ckeditor/init"
        = f.cktext_area :body, :class => 'span8'
    .control-group
      = f.label :slogan, :class => 'control-label'
      .controls
        = f.text_field :slogan, :class => 'span10'
    .row
      .span6
        .control-group
          = f.label :permalink, :class => 'control-label'
          .controls
            = f.text_field :permalink, :class => 'span4'
      .span6
        .control-group
          = f.label :position, :class => 'control-label'
          .controls
            = f.number_field :position, :class => 'span1'
    .row
      .span6
        .control-group
          = f.label :category_id, :class => 'control-label'
          .controls
            = f.select :category_id, @categories_tree
      .span7
        .control-group
          .controls
            %label.checkbox.inline
              = f.check_box :published
              = f.label :published
    .form-actions
      = f.submit 'Save page', :class => 'btn btn-success'
